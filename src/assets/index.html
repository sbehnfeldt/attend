<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="css/jquery-ui.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.css">
        <link rel="stylesheet" type="text/css" href="css/attend.css">
        <link rel="stylesheet" type="text/css" media="print" href="css/print.css">
        <title>Attend</title>
    </head>

    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">Attend</a>
                </div>
                <div id="navbar" class="collapse navbar-collapse">
                    <ul class="tabs nav navbar-nav" role="menu">
                        <li><a href="#attendance-page" class="tab">Attendance</a></li>
                        <li><a href="#signin-page" class="tab">Sign In</a></li>
                        <!-- li><a href="#checkin-page" class="tab">Checkin</a></li -->
                        <!-- li><a href="#reports-page" class="tab">Reports</a></li -->
                        <li><a href="#enrollment-page" class="tab">Enrollment</a></li>
                        <!--li><a href="#classes-page" class="tab">Classes</a></li-->
                        <!-- li><a href="#teachers-page" class="tab">Teachers</a></li-->
                    </ul>
                </div>
            </div>
        </nav>

        <main>
            <!-- Attendance Page -->
            <section class="page container" id="attendance-page">
                <header class="page-header">
                    <h2>Attendance</h2>
                    <div class="controls">
                        Week Of: <input type="text" name="week-of" />
                        <a id="pdf-attendance" href="pdf/attendance">PDF</a>
                    </div>
                </header>

                <div class="attendance-page-schedules"></div>
            </section><!-- end attendance page -->

            <!-- Sign-In Page -->
            <section class="page container" id="signin-page">
                <header class="page-header">
                    <h2>Sign In</h2>
                    <div class="controls">
                        Week of: <input type="text" name="week-of" />
                        <a id="pdf-signin" href="pdf/signin">PDF</a>
                    </div>
                </header>
                <div class="signin-page-contents"></div>
            </section><!-- end signin page -->

            <!-- Checkin Page -->
            <section class="page container" id="checkin-page">
                <header>
                    <h2>Check-In</h2>
                </header>
                <div class="row time-date">
                    <span class="clock"></span>
                    <span class="glyphicon glyphicon-time"></span>
                    <span class="calendar"></span>
                </div>

                <div class="row attendance-report attendance-checkin">
                    <div class="btn-group btn-group-xs btn-group-toggle" role="group">
                        <button type="button" class="btn btn-default btn-selected" data-toggle="scheduled">Scheduled</button>
                        <button type="button" class="btn btn-default" data-toggle="enrolled">Active</button>
                    </div>

                    <select class="filter-select">
                        <option value="">Show All</option>
                        <option value="0">Unassigned</option>
                    </select>

                    <table class='clearfix' id="attendance-checkin-table">
                        <thead>
                        <tr>
                            <th>Controls</th>
                            <th>Student</th>
                            <th>Checked In</th>
                            <th>Checked Out</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <a href="#attendance">top</a>
                </div>
            </section><!-- Checkin Page -->

            <!-- Reports Page -->
            <section class="page container" id="reports">
                <header>
                    <h2>Reports</h2>
                </header>
                <div class="row">
                    <div class="col-lg-2 report-list">
                        <div>
                            <select name="report-list">
                                <option value="">Select a Report</option>
                            </select>
                        </div>
                    </div>
                    <div class="container panel" id="attendance-report">
                        <h3>Attendance</h3>
                        <table id="attendance-report-table">
                            <thead>
                            <tr>
                            </tr>
                            <tr>
                            </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>

                    <div class="container panel" id="student-report">
                        <h3>Students</h3>
                    </div>
                </div>
            </section><!-- Reports Page -->

            <!-- Enrollment Page -->
            <section class="page container" id="enrollment-page">
                <header>
                    <h2>Enrollment</h2>
                </header>

                <div class="row">
                    <div class="col-lg-2 student-list">
                        <div>
                            <label for="classroom-filter">Classroom Filter</label>
                            <select name="classroom-filter">
                                <option value="">Show All</option>
                                <option value="0">Unassigned</option>
                            </select>
                        </div>
                        <div>
                            <label for="active-filter">Active Filter</label>
                            <select name="active-filter">
                                <option value="">Show All</option>
                                <option value="true">Active Only</option>
                                <option value="false">Inactive Only</option>
                            </select>
                        </div>

                        <label for="student-list">Student List</label>
                        <select name="student-list" size="10"></select>
                        <div class="container">
                            <div class="btn-group" role="group">
                                <button class="btn btn-default" name="new-student-button">New</button>
                                <button disabled class="btn btn-default" name="delete-student-button">Delete</button>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-10 student-detail">
                        <div class="panel" id="student-personal">
                            <h3>Personal Data</h3>
                            <label for="familyName">Family Name: <input type="text" name="familyName" disabled /></label>
                            <label for="firstName">First Name: <input type="text" name="firstName" disabled /></label>
                            <label for="classrooms">Class:
                                <select name="classrooms" disabled>
                                    <option value="0">No class selected</option>
                                </select>
                            </label>
                            <label for="enrolled">Active: <input type="checkbox" name="enrolled" disabled></label>
                        </div>

                        <div class="panel student-detail-panel">
                            <h3>Schedule</h3>
                            <select name="whichSchedule" disabled></select>
                            <div>
                                <button class="checkAll" disabled>Check All</button>
                            </div>
                            <table id="student-schedule-table">
                                <thead>
                                <tr>
                                    <th>&nbsp;</th>
                                    <th class="checkcontrol"><button type="button" disabled>Monday</button></th>
                                    <th class="checkcontrol"><button type="button" disabled>Tuesday</button></th>
                                    <th class="checkcontrol"><button type="button" disabled>Wednesday</button></th>
                                    <th class="checkcontrol"><button type="button" disabled>Thursday</button></th>
                                    <th class="checkcontrol"><button type="button" disabled>Friday</button></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr data-day-part="Am">
                                    <td class="checkcontrol"><button type="button" disabled>AM</button></td>
                                    <td><input type="checkbox" name="mon" disabled /></td>
                                    <td><input type="checkbox" name="tue" disabled /></td>
                                    <td><input type="checkbox" name="wed" disabled /></td>
                                    <td><input type="checkbox" name="thu" disabled /></td>
                                    <td><input type="checkbox" name="fri" disabled /></td>
                                </tr>
                                <tr data-day-part="Noon">
                                    <td class="checkcontrol"><button type="button" disabled>Lunch</button></td>
                                    <td><input type="checkbox" name="mon" disabled /></td>
                                    <td><input type="checkbox" name="tue" disabled /></td>
                                    <td><input type="checkbox" name="wed" disabled /></td>
                                    <td><input type="checkbox" name="thu" disabled /></td>
                                    <td><input type="checkbox" name="fri" disabled /></td>
                                </tr>
                                <tr  data-day-part="Pm">
                                    <td class="checkcontrol"><button type="button" disabled>PM</button></td>
                                    <td><input type="checkbox" name="mon" disabled /></td>
                                    <td><input type="checkbox" name="tue" disabled /></td>
                                    <td><input type="checkbox" name="wed" disabled /></td>
                                    <td><input type="checkbox" name="thu" disabled /></td>
                                    <td><input type="checkbox" name="fri" disabled /></td>
                                </tr>
                                </tbody>
                            </table>
                            Start on: <input type="text" name="startDate" class="datepicker" disabled size="30">
                            End on: <input type="text" name="endDate" class="datepicker" disabled size="30">
                        </div>

                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default btn-save"  name="save-and-another" disabled>Save and New</button>
                            <button type="button" class="btn btn-default btn-save"  name="save-and-close" disabled>Save and Close</button>

                            <button type="button" class="btn btn-default"  name="cancel-student-button" disabled>Cancel</button>
                        </div>
                    </div>

                </div>
            </section>

            <section class="page" id="classes-page">
                <header>
                    <h2>Classes</h2>
                </header>
                <div>
                    <select name="classes-list" size="10"></select>
                </div>
                <div>
                    <input type="text" name="class-name">
                </div>
            </section>

            <section  class="page" id="teachers">
                Define Teachers
            </section>
        </main>

        <script type="application/javascript" src="js/jquery-1.11.0.min.js"></script>
        <script type="application/javascript" src="js/jquery-ui.js"></script>
        <script type="application/javascript" src="js/bootstrap.min.js"></script>
        <script type="application/javascript" src="js/underscore.js"></script>
        <script type="application/javascript" src="js/handlebars-v3.0.3.js"></script>
        <script type="application/javascript" src="js/attend.js"></script>

        <script type="text/x-handlebars-template" id="attendance-schedule-class-template">
            <div class="panel">
                <header>
                    <h4 class="text-center">Attendance</h4>
                    <p class="classroom clearfix">
                        <span>{{ classroom.name }}</span>
                        <span class="pull-right text-right">Week of {{ weekOf }}</span>
                    </p>
                </header>

                <table class="attendance-schedule">
                    <thead>
                        <tr>
                            <th>Student</th>
                            <th>{{attendanceSheetDate dates.[0]}}</th>
                            <th>{{attendanceSheetDate dates.[1]}}</th>
                            <th>{{attendanceSheetDate dates.[2]}}</th>
                            <th>{{attendanceSheetDate dates.[3]}}</th>
                            <th>{{attendanceSheetDate dates.[4]}}</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody>

                    {{#each students}}
                        <tr>
                            <td class="attendance-schedule-name">{{firstName}} {{familyName}}</td>
                            <td{{#unless schedule.mon}} class='absent'{{/unless}}>&nbsp;</td>
                            <td{{#unless schedule.tue}} class='absent'{{/unless}}>&nbsp;</td>
                            <td{{#unless schedule.wed}} class='absent'{{/unless}}>&nbsp;</td>
                            <td{{#unless schedule.thu}} class='absent'{{/unless}}>&nbsp;</td>
                            <td{{#unless schedule.fri}} class='absent'{{/unless}}>&nbsp;</td>
                            <td class="attendance-schedule-notes">{{notes}}</td>
                        </tr>
                    {{/each}}

                        <tr>
                            <td>Totals:</td>
                            <td>{{totals.mon}}</td>
                            <td>{{totals.tue}}</td>
                            <td>{{totals.wed}}</td>
                            <td>{{totals.thu}}</td>
                            <td>{{totals.fri}}</td>
                            <td>&nbsp;</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </script>

        <script type="text/x-handlebars-template" id="attendance-signin-class-template">
            <h4 class="text-center">Sign-In</h4>
            <p class="classroom clearfix">
                <span>{{ classroom }}</span>
                <span class="pull-right text-right">Week of {{ weekOf }}</span>
            </p>

            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th></th>
                        <th colspan="2">Monday</th>
                        <th colspan="2">Tuesday</th>
                        <th colspan="2">Wednesday</th>
                        <th colspan="2">Thursday</th>
                        <th colspan="2">Friday</th>
                    </tr>
                    <tr>
                        <th>Name</th>
                        <th>&nbsp;</th>
                        <th><div class="in-out">In</div>Out</th>
                        <th>Initial</th>
                        <th><div class="in-out">In</div>Out</th>
                        <th>Initial</th>
                        <th><div class="in-out">In</div>Out</th>
                        <th>Initial</th>
                        <th><div class="in-out">In</div>Out</th>
                        <th>Initial</th>
                        <th><div class="in-out">In</div>Out</th>
                        <th>Initial</th>
                    </tr>
                </thead>
                <tbody>
                {{#each students}}
                    <tr>
                        <td>{{ firstName }}</td>
                        <td>{{ familyName }}</td>
                        <td{{#unless schedule.mon}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                        <td{{#unless schedule.mon}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                        <td{{#unless schedule.tue}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                        <td{{#unless schedule.tue}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                        <td{{#unless schedule.wed}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                        <td{{#unless schedule.wed}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                        <td{{#unless schedule.thu}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                        <td{{#unless schedule.thu}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                        <td{{#unless schedule.fri}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                        <td{{#unless schedule.fri}} class='absent'{{/unless}}><div class="in-out">&nbsp;</div>&nbsp;</td>
                    </tr>
                {{/each}}

                </tbody>
            </table>
        </script>


        <!-- A single row in the Check-In Report -->
        <script type="text/x-handlebars-template" id="attendance-checkin-row-template">
                <tr class="data" data-student-id="{{ id }}">
                    <td>
                        <div class="btn-tolbar" role="toolbar">
                            <div class="btn-group btn-group-sm" role="group">
                                <button class="btn btn-default check-in" type="button">Check In</button>
                                <button class="btn btn-default check-out" type="button">Check Out</button>
                            </div>
                        </div>
                    </td>
                    <td>{{#if checkedIn}}<span class="glyphicon glyphicon-ok"></span>{{/if}}
                    {{ familyName }}, {{ firstName }}</td>
                    <td class="check-in">{{formatTime checkedIn }}</td>
                    <td class="check-out">{{formatTime checkedOut}}</td>
                </tr>
        </script>

        <!-- Single student in the Student List selection box -->
        <script type="text/x-handlebars-template" id="enrollment-list-option-template">
                <option value="{{ id }}" data-classroom="{{ classroom }}">{{ familyName }}, {{ firstName }}</option>
        </script>

        <script type="x-handlebars-template" id="enrollment-list-template">
                {{#each student}}
                    {{> stdent}}
                {{/each}}
        </script>

        <!-- Single Row in the Student Attendance Record -->
        <script type="text/x-handlebars-template" id="student-attendance-table-row-template">
                <tr>
                    <td>{{#if checkedIn }}{{ formatDate checkedIn }}{{ else }}{{ formatDate checkedOut }}{{/if }}</td>
                    <td>{{formatTime checkedIn }}</td>
                    <td>{{formatTime checkedOut }}</td>
                    <td>(Notes)</td>
                </tr>
        </script>
        <script type="x-handlebars-template" id="student-attendance-table-template">
                {{#each student}}
                    {{> stdent}}
                {{/each}}
        </script>

    </body>
</html>
